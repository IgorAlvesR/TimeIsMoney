{"version":3,"sources":["webpack:///./src/app/pages/registro-deslocamento/registro-deslocamento.module.ts","webpack:///./src/app/pages/registro-deslocamento/registro-deslocamento.page.html","webpack:///./src/app/pages/registro-deslocamento/registro-deslocamento.page.scss","webpack:///./src/app/pages/registro-deslocamento/registro-deslocamento.page.ts","webpack:///./src/app/servicos/deslocamento.service.ts"],"names":[],"mappings":"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","file":"pages-registro-deslocamento-registro-deslocamento-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegistroDeslocamentoPage } from './registro-deslocamento.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistroDeslocamentoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RegistroDeslocamentoPage]\n})\nexport class RegistroDeslocamentoPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <div class=\\\"header\\\">\\n      <ion-icon name=\\\"arrow-round-back\\\" button [routerLink]=\\\"['/registro-hora-extra']\\\"></ion-icon>\\n      <p class=\\\"ion-text-center\\\">REGISTRO DESLOCAMENTOS</p>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div #map></div>\\n  <div class=\\\"ion-text-center\\\">\\n    <ion-textarea rows=\\\"6\\\" cols=\\\"20\\\" placeholder=\\\"Descrição...\\\" [(ngModel)]='deslocamento.descricao'></ion-textarea>\\n    <ion-button color=\\\"primary\\\" (click)='registrarDeslocamento()'>Registrar Deslocamento</ion-button>\\n  </div>\\n</ion-content>\"","module.exports = \"ion-toolbar {\\n  --background: var(--ion-color-padraoApp);\\n  color: white; }\\n\\nion-icon {\\n  width: 20px;\\n  height: 20px;\\n  color: white; }\\n\\n.header {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n.header p {\\n    margin-left: 25px; }\\n\\n.map {\\n  width: 50%;\\n  height: 50%; }\\n\\nion-textarea {\\n  border: 2px solid #4F9AF5;\\n  padding: 5px;\\n  border-radius: 15px;\\n  width: 80%;\\n  margin: 25px auto;\\n  text-align: left; }\\n\\nion-button {\\n  border-radius: 20%;\\n  width: 80%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVnaXN0cm8tZGVzbG9jYW1lbnRvL0M6XFxVc2Vyc1xcSWdvclxcRGVza3RvcFxcSUZTQ1xcSUZTQyAyMDE5LTJcXFRDQyBJSVxcVENDLUlJIEFwbGljYXRpdm8gSG9yYXMgRXh0cmFzXFxUaW1laXNtb25leWFwcC9zcmNcXGFwcFxccGFnZXNcXHJlZ2lzdHJvLWRlc2xvY2FtZW50b1xccmVnaXN0cm8tZGVzbG9jYW1lbnRvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdDQUFhO0VBQ2IsWUFBWSxFQUFBOztBQUloQjtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osWUFBWSxFQUFBOztBQUdoQjtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUIsRUFBQTs7QUFGdkI7SUFLUSxpQkFBaUIsRUFBQTs7QUFLekI7RUFDSSxVQUFVO0VBQ1YsV0FBVyxFQUFBOztBQUdmO0VBQ0kseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsVUFBVTtFQUNWLGlCQUFpQjtFQUNqQixnQkFBZ0IsRUFBQTs7QUFHcEI7RUFDSSxrQkFBa0I7RUFDbEIsVUFBVSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcmVnaXN0cm8tZGVzbG9jYW1lbnRvL3JlZ2lzdHJvLWRlc2xvY2FtZW50by5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhcntcclxuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXBhZHJhb0FwcCk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcblxyXG5pb24taWNvbntcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uaGVhZGVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBcclxuICAgIHB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDI1cHg7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4ubWFwe1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIGhlaWdodDogNTAlO1xyXG59XHJcblxyXG5pb24tdGV4dGFyZWF7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjNEY5QUY1O1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBtYXJnaW46IDI1cHggYXV0bztcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuXHJcbmlvbi1idXR0b257XHJcbiAgICBib3JkZXItcmFkaXVzOiAyMCU7XHJcbiAgICB3aWR0aDogODAlO1xyXG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Platform, LoadingController, NavController } from '@ionic/angular';\nimport { Environment, GoogleMap, GoogleMaps, GoogleMapOptions, GoogleMapsEvent, MyLocation, GoogleMapsAnimation } from '@ionic-native/google-maps';\nimport { NativeGeocoder, NativeGeocoderOptions, NativeGeocoderResult } from '@ionic-native/native-geocoder/ngx';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { DeslocamentoService } from 'src/app/servicos/deslocamento.service';\nimport { Deslocamento } from 'src/app/Models/deslocamento';\n\n@Component({\n  selector: 'app-registro-deslocamento',\n  templateUrl: './registro-deslocamento.page.html',\n  styleUrls: ['./registro-deslocamento.page.scss'],\n})\nexport class RegistroDeslocamentoPage implements OnInit {\n\n  @ViewChild('map') mapElement: any\n  private loading: any\n  private map: GoogleMap\n  reserveGeocodingResults: string = \"\"\n  private deslocamento: Deslocamento = {}\n\n\n  constructor(\n    private platform: Platform,\n    private loadingCtrl: LoadingController,\n    public nativeGeocoder: NativeGeocoder,\n    public geolocation: Geolocation,\n    private deslocamentoService: DeslocamentoService,\n    private navCtrl: NavController\n  ) { }\n\n  ngOnInit() {\n    this.mapElement = this.mapElement.nativeElement\n    this.mapElement.style.width = '100%'\n    this.mapElement.style.height = '50%'\n    this.loadMap()\n  }\n\n\n  /*reverseGeolocation() {\n    this.geolocation.getCurrentPosition().then((position) => {\n      var latitude = position.coords.latitude\n      var longitude = position.coords.longitude\n      this.reverseGeocoding(latitude, longitude)\n      return this.reserveGeocodingResults\n    })\n  }*/\n\n\n  async reverseGeocoding(latitude, longitude) {\n    var options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 1\n    }\n    await this.nativeGeocoder.reverseGeocode(latitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => this.deslocamento.localizacao = result[0].subAdministrativeArea)\n  }\n\n  async registrarDeslocamento() {\n    this.loading = await this.loadingCtrl.create({ message: 'Por favor, aguarde...' })\n    await this.loading.present()\n    await this.geolocation.getCurrentPosition().then((position) => {\n      var latitude = position.coords.latitude\n      var longitude = position.coords.longitude\n      console.log(this.reverseGeocoding(latitude, longitude))\n    })\n    this.deslocamento.data = \"teste\"\n    console.log(this.deslocamento.localizacao)\n\n    try {\n      await this.deslocamentoService.registrar(this.deslocamento)\n      await this.navCtrl.navigateRoot('registro-hora-extra')\n      await this.loading.dismiss()\n    } catch (error) {\n      console.log(error)\n    }\n\n  }\n\n\n\n  async loadMap() {\n    this.loading = await this.loadingCtrl.create({ message: 'Por favor, aguarde...' })\n    await this.loading.present()\n\n    Environment.setEnv({\n      'API_KEY_FOR_BROWSER_RELEASE': 'AIzaSyClpig7cd7BKXZTeN93Xi7mUn57uzSFcqc',\n      'API_KEY_FOR_BROWSER_DEBUG': 'AIzaSyClpig7cd7BKXZTeN93Xi7mUn57uzSFcqc'\n    });\n\n    const mapOptions: GoogleMapOptions = {\n      controls: {\n        zoom: false\n      }\n    }\n\n    this.map = await GoogleMaps.create(this.mapElement, mapOptions)\n    try {\n      await this.map.one(GoogleMapsEvent.MAP_READY)\n      await this.addOriginMarker()\n\n    } catch (error) {\n      console.error(error)\n    }\n\n  }\n\n  async addOriginMarker() {\n    try {\n      const myLocation: MyLocation = await this.map.getMyLocation()\n      await this.map.moveCamera({\n        target: myLocation.latLng,\n        zoom: 18\n      })\n      this.map.addMarkerSync({\n        title: 'Localização Atual',\n        icon: '#000',\n        animation: GoogleMapsAnimation.DROP,\n        position: myLocation.latLng\n      })\n    } catch (error) {\n      console.error(error)\n    } finally {\n      this.loading.dismiss()\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from '@angular/fire/firestore';\nimport { Deslocamento } from '../Models/deslocamento';\nimport { AutenticacaoService } from './autenticacao.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeslocamentoService {\n\n  private deslocamento: AngularFirestoreCollection<Deslocamento>\n\n\n  constructor(private afs: AngularFirestore, private authService: AutenticacaoService) { \n    let userId = this.authService.getAuth().currentUser.uid\n    this.deslocamento = this.afs.collection<Deslocamento>('Deslocamento')\n  }\n\n  registrar(deslocamento: Deslocamento){\n    return this.deslocamento.add(deslocamento)\n  }\n\n}"],"sourceRoot":""}